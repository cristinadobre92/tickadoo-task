{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{signInDialogTexts as t}from\"./signInDialog.texts.ts\";import\"./signInDialog.css\";import{handleSubmitHelper}from\"./signInDialog.handlers.ts\";import{MainButton}from\"../Components/MainButton.tsx\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function SignInDialog(_ref){let{isOpen,onClose,onAuthSuccess}=_ref;const[mode,setMode]=useState(\"signIn\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const[registerSuccess,setRegisterSuccess]=useState(false);const dialogRef=useRef(null);useEffect(()=>{if(isOpen){var _dialogRef$current;setEmail(\"\");setPassword(\"\");setError(\"\");setLoading(false);setRegisterSuccess(false);setMode(\"signIn\");(_dialogRef$current=dialogRef.current)===null||_dialogRef$current===void 0?void 0:_dialogRef$current.focus();}},[isOpen]);const handleSubmit=e=>handleSubmitHelper({e,mode,email,password,setError,setLoading,onAuthSuccess,setRegisterSuccess,setEmail,setPassword,setMode});// Responsive: modal for desktop/tablet, drawer for mobile\nconst isMobile=window.innerWidth<600;if(!isOpen)return null;return/*#__PURE__*/_jsxs(\"div\",{role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"auth-dialog-title\",className:\"sign-in-dialog \".concat(isMobile?\"drawer\":\"modal\"),tabIndex:-1,ref:dialogRef,children:[/*#__PURE__*/_jsx(\"button\",{\"aria-label\":t.close,onClick:onClose,className:\"sign-in-dialog__close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{id:\"auth-dialog-title\",className:\"sign-in-dialog__title\",children:mode===\"signIn\"?t.signIn:t.register}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,\"aria-label\":mode===\"signIn\"?t.signInForm:t.registerForm,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"sign-in-dialog__label\",children:t.email}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",autoComplete:\"username\",required:true,value:email,onChange:e=>setEmail(e.target.value),className:\"sign-in-dialog__input\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sign-in-dialog__label\",children:t.password}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",autoComplete:mode===\"signIn\"?\"current-password\":\"new-password\",required:true,value:password,onChange:e=>setPassword(e.target.value),className:\"sign-in-dialog__input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"sign-in-dialog__switch\",onClick:()=>{setMode(mode===\"signIn\"?\"register\":\"signIn\");setError(\"\");setEmail(\"\");setPassword(\"\");},children:mode===\"signIn\"?t.registerHere:t.alreadyHaveAccount}),error&&/*#__PURE__*/_jsx(\"div\",{role:\"alert\",className:\"sign-in-dialog__error\",children:error}),registerSuccess&&mode===\"register\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sign-in-dialog__result\",style:{color:\"#27AE60\",textAlign:\"center\",marginBottom:12},children:t.registrationSuccess}),/*#__PURE__*/_jsx(MainButton,{loading:loading,type:\"submit\",children:mode===\"signIn\"?t.signIn:t.register})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","signInDialogTexts","t","handleSubmitHelper","MainButton","jsx","_jsx","jsxs","_jsxs","SignInDialog","_ref","isOpen","onClose","onAuthSuccess","mode","setMode","email","setEmail","password","setPassword","error","setError","loading","setLoading","registerSuccess","setRegisterSuccess","dialogRef","_dialogRef$current","current","focus","handleSubmit","e","isMobile","window","innerWidth","role","className","concat","tabIndex","ref","children","close","onClick","id","signIn","register","onSubmit","signInForm","registerForm","htmlFor","type","autoComplete","required","value","onChange","target","registerHere","alreadyHaveAccount","style","color","textAlign","marginBottom","registrationSuccess"],"sources":["/Users/cristinadobre/Legacy/tickadoo-task/src/SignInDialog/SignInDialog.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { signInDialogTexts as t } from \"./signInDialog.texts.ts\";\nimport \"./signInDialog.css\";\nimport {\n  handleSubmitHelper,\n} from \"./signInDialog.handlers.ts\";\nimport { MainButton } from \"../Components/MainButton.tsx\";\n\nexport function SignInDialog({ isOpen, onClose, onAuthSuccess }) {\n  const [mode, setMode] = useState<\"signIn\" | \"register\">(\"signIn\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [registerSuccess, setRegisterSuccess] = useState(false);\n  const dialogRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setEmail(\"\");\n      setPassword(\"\");\n      setError(\"\");\n      setLoading(false);\n      setRegisterSuccess(false);\n      setMode(\"signIn\");\n      dialogRef.current?.focus();\n    }\n  }, [isOpen]);\n\n  const handleSubmit = (e: { preventDefault: () => void }) =>\n    handleSubmitHelper({\n      e,\n      mode,\n      email,\n      password,\n      setError,\n      setLoading,\n      onAuthSuccess,\n      setRegisterSuccess,\n      setEmail,\n      setPassword,\n      setMode,\n    });\n\n  // Responsive: modal for desktop/tablet, drawer for mobile\n  const isMobile = window.innerWidth < 600;\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"auth-dialog-title\"\n      className={`sign-in-dialog ${isMobile ? \"drawer\" : \"modal\"}`}\n      tabIndex={-1}\n      ref={dialogRef}\n    >\n      <button\n        aria-label={t.close}\n        onClick={onClose}\n        className=\"sign-in-dialog__close\"\n      >\n        Ã—\n      </button>\n      <h2 id=\"auth-dialog-title\" className=\"sign-in-dialog__title\">\n        {mode === \"signIn\" ? t.signIn : t.register}\n      </h2>\n      <form onSubmit={handleSubmit} aria-label={mode === \"signIn\" ? t.signInForm : t.registerForm}>\n        <label htmlFor=\"email\" className=\"sign-in-dialog__label\">\n          {t.email}\n        </label>\n        <input\n          id=\"email\"\n          type=\"email\"\n          autoComplete=\"username\"\n          required\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          className=\"sign-in-dialog__input\"\n        />\n        <label htmlFor=\"password\" className=\"sign-in-dialog__label\">\n          {t.password}\n        </label>\n        <input\n          id=\"password\"\n          type=\"password\"\n          autoComplete={mode === \"signIn\" ? \"current-password\" : \"new-password\"}\n          required\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"sign-in-dialog__input\"\n        />\n          <button\n            type=\"button\"\n            className=\"sign-in-dialog__switch\"\n            onClick={() => {\n              setMode(mode === \"signIn\" ? \"register\" : \"signIn\");\n              setError(\"\");\n              setEmail(\"\");\n              setPassword(\"\");\n            }}\n          >\n            {mode === \"signIn\" ? t.registerHere : t.alreadyHaveAccount}\n          </button>\n        \n        {error && (\n          <div role=\"alert\" className=\"sign-in-dialog__error\">\n            {error}\n          </div>\n        )}\n        {registerSuccess && mode === \"register\" && (\n          <div className=\"sign-in-dialog__result\" style={{ color: \"#27AE60\", textAlign: \"center\", marginBottom: 12 }}>\n            {t.registrationSuccess}\n          </div>\n        )}\n        <MainButton loading={loading} type=\"submit\">\n          {mode === \"signIn\" ? t.signIn : t.register}\n        </MainButton>\n      </form>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}